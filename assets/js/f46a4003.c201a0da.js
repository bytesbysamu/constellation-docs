"use strict";(self.webpackChunkconstellation_docs=self.webpackChunkconstellation_docs||[]).push([[669],{1478:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"frontend-architecture","title":"\ud83d\udcf1 Frontend Architecture & Development","description":"Constellation\'s frontend is built with Ionic and Angular, providing a modern, mobile-first application that works seamlessly across web and mobile platforms.","source":"@site/docs/frontend-architecture.md","sourceDirName":".","slug":"/frontend-architecture","permalink":"/frontend-architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\ude80 Deployment & Production","permalink":"/deployment"},"next":{"title":"\ud83d\udcf1 Frontend Development Guide","permalink":"/frontend-development-guide"}}');var s=r(4848),i=r(8453);const o={sidebar_position:10},a="\ud83d\udcf1 Frontend Architecture & Development",l={},c=[{value:"<strong>Technology Stack</strong>",id:"technology-stack",level:2},{value:"<strong>Core Framework</strong>",id:"core-framework",level:3},{value:"<strong>State Management</strong>",id:"state-management",level:3},{value:"<strong>Styling &amp; UI</strong>",id:"styling--ui",level:3},{value:"<strong>Project Structure</strong>",id:"project-structure",level:2},{value:"<strong>Directory Organization</strong>",id:"directory-organization",level:3},{value:"<strong>Domain-Driven Architecture</strong>",id:"domain-driven-architecture",level:3},{value:"<strong>Core Architecture</strong>",id:"core-architecture",level:2},{value:"<strong>Core Module</strong>",id:"core-module",level:3},{value:"<strong>Services</strong>",id:"services",level:4},{value:"<strong>Guards</strong>",id:"guards",level:4},{value:"<strong>Interceptors</strong>",id:"interceptors",level:4},{value:"<strong>Constants</strong>",id:"constants",level:4},{value:"<strong>Shared Module</strong>",id:"shared-module",level:3},{value:"<strong>Components</strong>",id:"components",level:4},{value:"<strong>State Management</strong>",id:"state-management-1",level:2},{value:"<strong>Elf Store Architecture</strong>",id:"elf-store-architecture",level:3},{value:"<strong>Query Management</strong>",id:"query-management",level:3},{value:"<strong>Component Architecture</strong>",id:"component-architecture",level:2},{value:"<strong>Component Structure</strong>",id:"component-structure",level:3},{value:"<strong>Page Components</strong>",id:"page-components",level:3},{value:"<strong>Routing Architecture</strong>",id:"routing-architecture",level:2},{value:"<strong>Route Configuration</strong>",id:"route-configuration",level:3},{value:"<strong>Lazy Loading</strong>",id:"lazy-loading",level:3},{value:"<strong>Route Guards</strong>",id:"route-guards",level:3},{value:"<strong>Form Handling</strong>",id:"form-handling",level:2},{value:"<strong>Reactive Forms</strong>",id:"reactive-forms",level:3},{value:"<strong>HTTP Communication</strong>",id:"http-communication",level:2},{value:"<strong>HTTP Interceptor</strong>",id:"http-interceptor",level:3},{value:"<strong>Mobile Features</strong>",id:"mobile-features",level:2},{value:"<strong>Capacitor Integration</strong>",id:"capacitor-integration",level:3},{value:"<strong>Platform Services</strong>",id:"platform-services",level:3},{value:"<strong>Internationalization</strong>",id:"internationalization",level:2},{value:"<strong>Transloco Integration</strong>",id:"transloco-integration",level:3},{value:"<strong>Translation Usage</strong>",id:"translation-usage",level:3},{value:"<strong>Build Configuration</strong>",id:"build-configuration",level:2},{value:"<strong>Angular Configuration</strong>",id:"angular-configuration",level:3},{value:"<strong>Docker Configuration</strong>",id:"docker-configuration",level:3},{value:"<strong>Development Workflow</strong>",id:"development-workflow",level:2},{value:"<strong>Local Development</strong>",id:"local-development",level:3},{value:"<strong>Mobile Development</strong>",id:"mobile-development",level:3},{value:"<strong>Testing Strategy</strong>",id:"testing-strategy",level:2},{value:"<strong>Unit Testing</strong>",id:"unit-testing",level:3},{value:"<strong>E2E Testing</strong>",id:"e2e-testing",level:3},{value:"<strong>Performance Optimization</strong>",id:"performance-optimization",level:2},{value:"<strong>Change Detection</strong>",id:"change-detection",level:3},{value:"<strong>Bundle Optimization</strong>",id:"bundle-optimization",level:3},{value:"<strong>Security Features</strong>",id:"security-features",level:2},{value:"<strong>Frontend Security</strong>",id:"frontend-security",level:3},{value:"<strong>Future Enhancements</strong>",id:"future-enhancements",level:2},{value:"<strong>Planned Features</strong>",id:"planned-features",level:3},{value:"<strong>Technology Upgrades</strong>",id:"technology-upgrades",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"-frontend-architecture--development",children:"\ud83d\udcf1 Frontend Architecture & Development"})}),"\n",(0,s.jsxs)(e.p,{children:["Constellation's frontend is built with ",(0,s.jsx)(e.strong,{children:"Ionic"})," and ",(0,s.jsx)(e.strong,{children:"Angular"}),", providing a modern, mobile-first application that works seamlessly across web and mobile platforms."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"technology-stack",children:(0,s.jsx)(e.strong,{children:"Technology Stack"})}),"\n",(0,s.jsx)(e.h3,{id:"core-framework",children:(0,s.jsx)(e.strong,{children:"Core Framework"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Angular"}),": 19.1.5 - Latest Angular version with standalone components"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Ionic"}),": 8.4.3 - Mobile-first UI framework with native capabilities"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Capacitor"}),": 7.0.0 - Native runtime for web apps"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"TypeScript"}),": Strict mode enabled with comprehensive type checking"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"state-management",children:(0,s.jsx)(e.strong,{children:"State Management"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"@ngneat/elf"}),": Lightweight state management library"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"@ngneat/query"}),": Data fetching and caching solution"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RxJS"}),": Reactive programming for asynchronous operations"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"styling--ui",children:(0,s.jsx)(e.strong,{children:"Styling & UI"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SCSS"}),": Advanced CSS preprocessing"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Ionic Components"}),": Native-feeling UI components"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CSS Custom Properties"}),": Dynamic theming system"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Responsive Design"}),": Mobile-first responsive layout"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"project-structure",children:(0,s.jsx)(e.strong,{children:"Project Structure"})}),"\n",(0,s.jsx)(e.h3,{id:"directory-organization",children:(0,s.jsx)(e.strong,{children:"Directory Organization"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"frontend/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 core/           # Shared services, guards, interceptors\n\u2502   \u2502   \u251c\u2500\u2500 domains/        # Feature modules organized by domain\n\u2502   \u2502   \u251c\u2500\u2500 shared/         # Shared components, directives, modules\n\u2502   \u2502   \u251c\u2500\u2500 store/          # State management\n\u2502   \u2502   \u2514\u2500\u2500 widgets/        # Cross-cutting concerns\n\u2502   \u251c\u2500\u2500 assets/             # Static assets and i18n files\n\u2502   \u251c\u2500\u2500 theme/              # Theme and styling configuration\n\u2502   \u2514\u2500\u2500 environments/       # Environment-specific configuration\n\u251c\u2500\u2500 android/                # Android-specific configuration\n\u251c\u2500\u2500 ios/                    # iOS-specific configuration\n\u251c\u2500\u2500 nginx/                  # Nginx configuration for production\n\u2514\u2500\u2500 scripts/                # Build and deployment scripts\n"})}),"\n",(0,s.jsx)(e.h3,{id:"domain-driven-architecture",children:(0,s.jsx)(e.strong,{children:"Domain-Driven Architecture"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"domains/\n\u251c\u2500\u2500 auth/                   # Authentication domain\n\u2502   \u251c\u2500\u2500 components/         # Reusable auth components\n\u2502   \u251c\u2500\u2500 pages/             # Auth pages (sign-in, sign-up, etc.)\n\u2502   \u2514\u2500\u2500 routes.ts          # Auth routing configuration\n\u251c\u2500\u2500 home/                   # Home domain\n\u2502   \u251c\u2500\u2500 pages/             # Home page components\n\u2502   \u2514\u2500\u2500 routes.ts          # Home routing\n\u251c\u2500\u2500 tasks/                  # Task management domain\n\u2502   \u251c\u2500\u2500 components/         # Task-related components\n\u2502   \u251c\u2500\u2500 interfaces/         # Task data models\n\u2502   \u251c\u2500\u2500 pages/             # Task pages\n\u2502   \u251c\u2500\u2500 services/          # Task business logic\n\u2502   \u2514\u2500\u2500 routes.ts          # Task routing\n\u251c\u2500\u2500 settings/               # User settings domain\n\u2502   \u251c\u2500\u2500 components/         # Settings components\n\u2502   \u251c\u2500\u2500 pages/             # Settings pages\n\u2502   \u251c\u2500\u2500 pipes/             # Custom pipes\n\u2502   \u251c\u2500\u2500 services/          # Settings services\n\u2502   \u2514\u2500\u2500 routes.ts          # Settings routing\n\u2514\u2500\u2500 tabs/                   # Main navigation tabs\n    \u251c\u2500\u2500 pages/              # Tab page components\n    \u251c\u2500\u2500 services/           # Tab navigation services\n    \u2514\u2500\u2500 routes.ts           # Tab routing configuration\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"core-architecture",children:(0,s.jsx)(e.strong,{children:"Core Architecture"})}),"\n",(0,s.jsx)(e.h3,{id:"core-module",children:(0,s.jsx)(e.strong,{children:"Core Module"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// src/app/core/index.ts\nexport * from './guards';\nexport * from './services';\nexport * from './interceptors';\nexport * from './constants';\n"})}),"\n",(0,s.jsx)(e.h4,{id:"services",children:(0,s.jsx)(e.strong,{children:"Services"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"AuthService"}),": Authentication and user management"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CredentialsService"}),": Secure credential storage"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ThemeService"}),": Theme management and switching"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RouterService"}),": Navigation and routing utilities"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"guards",children:(0,s.jsx)(e.strong,{children:"Guards"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"authServiceGuard"}),": Route protection for authenticated users"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"canDeactivateGuard"}),": Form change protection"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"interceptors",children:(0,s.jsx)(e.strong,{children:"Interceptors"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"authInterceptor"}),": JWT token management and refresh"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"errorInterceptor"}),": Global error handling"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"constants",children:(0,s.jsx)(e.strong,{children:"Constants"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"QueryParameterKey"}),": URL parameter constants"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"APP_ROUTES"}),": Application route definitions"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ERROR_CODES"}),": Standard error code constants"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"shared-module",children:(0,s.jsx)(e.strong,{children:"Shared Module"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// src/app/shared/shared.module.ts\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NgIf,\n    AsyncPipe,\n    LetDirective,\n  ],\n  exports: [...MODULES],\n})\nexport class SharedModule {}\n"})}),"\n",(0,s.jsx)(e.h4,{id:"components",children:(0,s.jsx)(e.strong,{children:"Components"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"LetDirective"}),": Template context management"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Custom Components"}),": Reusable UI components"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"state-management-1",children:(0,s.jsx)(e.strong,{children:"State Management"})}),"\n",(0,s.jsx)(e.h3,{id:"elf-store-architecture",children:(0,s.jsx)(e.strong,{children:"Elf Store Architecture"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// src/app/store/settings.repository.ts\nconst { state, config } = createState(\n  withProps<SettingsProperties>({\n    mode: Mode.System,\n    theme: Theme.Light,\n  }),\n);\n\nconst store = new Store({ name: 'settings', state, config });\n\n@Injectable({ providedIn: 'root' })\nexport class SettingsRepository {\n  public theme$ = store.pipe(select(state => state.theme));\n  \n  public setTheme(theme: Theme): void {\n    store.update(state => ({ ...state, theme }));\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"query-management",children:(0,s.jsx)(e.strong,{children:"Query Management"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// src/app/domains/tasks/services/task-list-page.service.ts\nexport class TaskListPageService {\n  #client = injectQueryClient();\n  #mutation = injectMutation();\n  #query = injectQuery();\n\n  public getTasks(): Result<QueryObserverResult<Task[], Error>> {\n    return this.#query({\n      queryKey: ['tasks'],\n      queryFn: () => this.tasksService.getTasks(),\n    });\n  }\n\n  public deleteTask(): MutationResult<void, Error, string, unknown> {\n    return this.#mutation({\n      mutationFn: (id: string) => this.tasksService.deleteTask(id),\n      onSuccess: () => {\n        void this.#client.invalidateQueries({ queryKey: ['tasks'] });\n      },\n    });\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"component-architecture",children:(0,s.jsx)(e.strong,{children:"Component Architecture"})}),"\n",(0,s.jsx)(e.h3,{id:"component-structure",children:(0,s.jsx)(e.strong,{children:"Component Structure"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"@Component({\n  selector: 'app-component-name',\n  templateUrl: './component-name.component.html',\n  styleUrls: ['./component-name.component.scss'],\n  imports: [\n    SharedModule,\n    TranslocoPipe,\n    // Ionic components\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class ComponentName {\n  // Public properties first\n  public readonly property = this.service.property;\n  \n  // Private properties\n  private unsubscribe = new Subject<void>();\n  \n  // Constructor\n  constructor(\n    private readonly service: ServiceName,\n  ) {}\n  \n  // Public methods\n  public async onAction(): Promise<void> {\n    // Implementation\n  }\n  \n  // Private methods\n  private privateMethod(): void {\n    // Implementation\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"page-components",children:(0,s.jsx)(e.strong,{children:"Page Components"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// Example: Task List Page\nexport class TaskListPage {\n  public readonly tasks = this.taskListPageService.getTasks().result;\n  private readonly deleteTask = this.taskListPageService.deleteTask();\n\n  constructor(private readonly taskListPageService: TaskListPageService) {\n    addIcons({ trash, add });\n  }\n\n  public async onDeleteTask(task: Task): Promise<void> {\n    this.deleteTask.mutate(task.id);\n  }\n\n  public async onNavigateToTaskUpsertPage(task?: Task): Promise<void> {\n    await this.taskListPageService.navigateToTaskUpsertPage(task?.id);\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"routing-architecture",children:(0,s.jsx)(e.strong,{children:"Routing Architecture"})}),"\n",(0,s.jsx)(e.h3,{id:"route-configuration",children:(0,s.jsx)(e.strong,{children:"Route Configuration"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// src/app/routes.ts\nexport const routes: Routes = [\n  {\n    path: '',\n    loadChildren: () => import('./domains/tabs/routes').then(m => m.routes),\n  },\n  {\n    path: 'auth',\n    loadChildren: () => import('./domains/auth/routes').then(m => m.routes),\n  },\n  { path: '**', redirectTo: '', pathMatch: 'full' },\n];\n"})}),"\n",(0,s.jsx)(e.h3,{id:"lazy-loading",children:(0,s.jsx)(e.strong,{children:"Lazy Loading"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// Domain-specific routes\nexport const routes: Routes = [\n  {\n    path: 'sign-in',\n    loadComponent: () =>\n      import('./pages/sign-in/sign-in.component').then(m => m.SignInComponent),\n  },\n  {\n    path: 'sign-up',\n    loadComponent: () =>\n      import('./pages/sign-up/sign-up.component').then(m => m.SignUpComponent),\n  },\n];\n"})}),"\n",(0,s.jsx)(e.h3,{id:"route-guards",children:(0,s.jsx)(e.strong,{children:"Route Guards"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"export const authServiceGuard: CanActivateFn = (route, state) => {\n  const isAuthenticated = inject(CredentialsService).isAuthenticated();\n  const router = inject(Router);\n\n  if (isAuthenticated) {\n    return true;\n  } else {\n    void router.navigate(['/auth/sign-in'], {\n      queryParams: { ['original_request_uri']: state.url },\n      replaceUrl: true,\n    });\n    return false;\n  }\n};\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"form-handling",children:(0,s.jsx)(e.strong,{children:"Form Handling"})}),"\n",(0,s.jsx)(e.h3,{id:"reactive-forms",children:(0,s.jsx)(e.strong,{children:"Reactive Forms"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"export class SignInComponent implements OnInit {\n  form!: FormGroup;\n  isSubmitted = false;\n\n  constructor(\n    private readonly _formBuilder: FormBuilder,\n    private readonly _authService: AuthService,\n  ) {}\n\n  get f(): any {\n    return this.form.controls;\n  }\n\n  private initializeForm(): void {\n    this.form = this._formBuilder.group({\n      email: ['', [Validators.required]],\n      password: ['', [Validators.required]],\n      rememberMe: [false],\n    });\n  }\n\n  onSubmit(): void {\n    this.isSubmitted = true;\n    if (this.form.invalid) return;\n    \n    const formValue = this.form.value;\n    const loginContext: LoginContext = {\n      email: formValue.email,\n      password: formValue.password,\n      rememberMe: formValue.rememberMe,\n    };\n\n    this._authService.login(loginContext, true, '/home').subscribe({\n      next: (response: Credentials) => {\n        this.hasError = false;\n        this.loginResponseMessage = 'Login Successful';\n        this.isSubmitted = false;\n        this.form.reset();\n      },\n      error: (error: any) => {\n        this.hasError = true;\n        this.errorMessage = error?.error?.Description || 'Sorry! Something went wrong!';\n      },\n    });\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"http-communication",children:(0,s.jsx)(e.strong,{children:"HTTP Communication"})}),"\n",(0,s.jsx)(e.h3,{id:"http-interceptor",children:(0,s.jsx)(e.strong,{children:"HTTP Interceptor"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"export const authInterceptor: HttpInterceptorFn = (request, next) => {\n  const authService = inject(AuthService);\n  const credentialsService = inject(CredentialsService);\n  const refreshTokenSubject = new BehaviorSubject<string | null>(null);\n  let isRefreshing = false;\n\n  const handle401Error = (\n    request: HttpRequest<unknown>,\n    next: HttpHandlerFn,\n  ): Observable<HttpEvent<unknown>> => {\n    if (!isRefreshing) {\n      isRefreshing = true;\n      refreshTokenSubject.next(null);\n\n      const credentials = credentialsService.getCredentials();\n      const token = credentials?.refreshToken;\n\n      if (token) {\n        return authService.refreshToken(token).pipe(\n          switchMap((response: JwtResponse) => {\n            isRefreshing = false;\n            authService.storeCredentialsFromJwtResponse(\n              response,\n              credentialsService.rememberPassword(),\n            );\n            refreshTokenSubject.next(response.accessToken);\n            return next(addAuthorizationHeader(request, response.accessToken));\n          }),\n          catchError(error => {\n            isRefreshing = false;\n            authService.logout();\n            return throwError(() => error);\n          }),\n        );\n      }\n    }\n    return next(request);\n  };\n\n  if (request.url.startsWith(environment.apiUrl + '/api')) {\n    const token = credentialsService.getCredentials()?.accessToken;\n    let authRequest = request;\n\n    if (token) {\n      authRequest = addAuthorizationHeader(request, token);\n    }\n\n    return next(authRequest).pipe(\n      catchError(error => {\n        if (\n          error instanceof HttpErrorResponse &&\n          error.status === 401 &&\n          !request.url.includes('/refresh')\n        ) {\n          return handle401Error(authRequest, next);\n        }\n        return throwError(() => error);\n      }),\n    );\n  }\n\n  return next(request);\n};\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"mobile-features",children:(0,s.jsx)(e.strong,{children:"Mobile Features"})}),"\n",(0,s.jsx)(e.h3,{id:"capacitor-integration",children:(0,s.jsx)(e.strong,{children:"Capacitor Integration"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// capacitor.config.ts\nconst config: CapacitorConfig = {\n  appId: 'dev.ionstarter.angularsqlite.demo',\n  appName: 'angular-sqlite-starter',\n  webDir: 'www',\n  server: {\n    androidScheme: 'https',\n  },\n  plugins: {\n    CapacitorSQLite: {\n      iosDatabaseLocation: 'Library/CapacitorDatabase',\n      iosIsEncryption: false,\n      androidIsEncryption: false,\n    },\n    LiveUpdate: {\n      appId: '',\n      autoDeleteBundles: true,\n      readyTimeout: 10000,\n    },\n    SplashScreen: {\n      launchAutoHide: false,\n      showSpinner: false,\n    },\n  },\n};\n"})}),"\n",(0,s.jsx)(e.h3,{id:"platform-services",children:(0,s.jsx)(e.strong,{children:"Platform Services"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"StatusBarService"}),": Status bar theming and configuration"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SplashScreenService"}),": Splash screen management"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CapacitorEdgeToEdgeService"}),": Edge-to-edge display support"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"LiveUpdateService"}),": App update management"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"internationalization",children:(0,s.jsx)(e.strong,{children:"Internationalization"})}),"\n",(0,s.jsx)(e.h3,{id:"transloco-integration",children:(0,s.jsx)(e.strong,{children:"Transloco Integration"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// src/app/widgets/transloco/transloco.module.ts\n@NgModule({\n  imports: [\n    TranslocoModule,\n    TranslocoPersistLangModule.forRoot({\n      storage: localStorageStrategy,\n    }),\n    TranslocoPersistTranslationsModule.forRoot({\n      loader: TranslocoLoader,\n      storage: localStorageStrategy,\n    }),\n  ],\n  exports: [TranslocoModule],\n})\nexport class TranslocoModule {}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"translation-usage",children:(0,s.jsx)(e.strong,{children:"Translation Usage"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// In components\n@Component({\n  template: `\n    <h1>{{ 'auth.signIn.title' | transloco }}</h1>\n    <p>{{ 'auth.signIn.description' | transloco }}</p>\n  `,\n  imports: [TranslocoPipe],\n})\nexport class SignInComponent {}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"build-configuration",children:(0,s.jsx)(e.strong,{children:"Build Configuration"})}),"\n",(0,s.jsx)(e.h3,{id:"angular-configuration",children:(0,s.jsx)(e.strong,{children:"Angular Configuration"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "schematics": {\n    "@schematics/angular:component": {\n      "style": "scss",\n      "standalone": true,\n      "changeDetection": "OnPush"\n    }\n  },\n  "architect": {\n    "build": {\n      "builder": "@angular-devkit/build-angular:application",\n      "options": {\n        "outputPath": {\n          "base": "www",\n          "browser": ""\n        },\n        "styles": [\n          "src/global.scss",\n          "src/theme/variables.scss"\n        ]\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"docker-configuration",children:(0,s.jsx)(e.strong,{children:"Docker Configuration"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dockerfile",children:'# Multi-stage build\nFROM node:20-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\n\nFROM nginx:alpine\nCOPY --from=builder /app/www /usr/share/nginx/html\nCOPY nginx/nginx.conf /etc/nginx/nginx.conf\nEXPOSE 4200\nCMD ["nginx", "-g", "daemon off;"]\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"development-workflow",children:(0,s.jsx)(e.strong,{children:"Development Workflow"})}),"\n",(0,s.jsx)(e.h3,{id:"local-development",children:(0,s.jsx)(e.strong,{children:"Local Development"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Install dependencies\nnpm install\n\n# Start development server\nng serve\n\n# Build for production\nnpm run build\n\n# Run tests\nnpm test\n\n# Lint and format\nnpm run lint\nnpm run fmt\n"})}),"\n",(0,s.jsx)(e.h3,{id:"mobile-development",children:(0,s.jsx)(e.strong,{children:"Mobile Development"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Add platforms\nnpx cap add android\nnpx cap add ios\n\n# Sync changes\nnpx cap sync\n\n# Open in native IDEs\nnpx cap open android\nnpx cap open ios\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"testing-strategy",children:(0,s.jsx)(e.strong,{children:"Testing Strategy"})}),"\n",(0,s.jsx)(e.h3,{id:"unit-testing",children:(0,s.jsx)(e.strong,{children:"Unit Testing"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Jasmine"}),": Testing framework"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Karma"}),": Test runner"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Component Testing"}),": Isolated component testing"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Service Testing"}),": Service method testing"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"e2e-testing",children:(0,s.jsx)(e.strong,{children:"E2E Testing"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Cypress"}),": End-to-end testing"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"User Flow Testing"}),": Complete user journey testing"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Cross-browser Testing"}),": Multi-browser compatibility"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"performance-optimization",children:(0,s.jsx)(e.strong,{children:"Performance Optimization"})}),"\n",(0,s.jsx)(e.h3,{id:"change-detection",children:(0,s.jsx)(e.strong,{children:"Change Detection"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"OnPush Strategy"}),": Default change detection strategy"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Pure Pipes"}),": Efficient data transformation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"TrackBy Functions"}),": Optimized list rendering"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Lazy Loading"}),": Code splitting and lazy loading"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"bundle-optimization",children:(0,s.jsx)(e.strong,{children:"Bundle Optimization"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Tree Shaking"}),": Unused code removal"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Code Splitting"}),": Route-based code splitting"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Minification"}),": Production code optimization"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Gzip Compression"}),": Response compression"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"security-features",children:(0,s.jsx)(e.strong,{children:"Security Features"})}),"\n",(0,s.jsx)(e.h3,{id:"frontend-security",children:(0,s.jsx)(e.strong,{children:"Frontend Security"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Route Guards"}),": Authentication-based route protection"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"HTTP Interceptors"}),": Secure token management"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input Validation"}),": Form validation and sanitization"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"XSS Protection"}),": Cross-site scripting prevention"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CSRF Protection"}),": Cross-site request forgery protection"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"future-enhancements",children:(0,s.jsx)(e.strong,{children:"Future Enhancements"})}),"\n",(0,s.jsx)(e.h3,{id:"planned-features",children:(0,s.jsx)(e.strong,{children:"Planned Features"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"PWA Support"}),": Progressive web app capabilities"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Offline Support"}),": Offline-first functionality"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Advanced Animations"}),": Enhanced user experience"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Performance Monitoring"}),": Real-time performance tracking"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"technology-upgrades",children:(0,s.jsx)(e.strong,{children:"Technology Upgrades"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Angular 20"}),": Latest Angular version"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Ionic 9"}),": Enhanced mobile capabilities"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Capacitor 8"}),": Improved native integration"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Advanced State Management"}),": Enhanced state management patterns"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>a});var t=r(6540);const s={},i=t.createContext(s);function o(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);